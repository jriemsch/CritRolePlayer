{"version":3,"sources":["Playlist.js","YouTube.js","Playlists.js","PlaylistItem.js","PlaylistItems.js","SignIn.js","Overlay.js","TimeSelector.js","TimeProgressBar.js","Player.js","Navigation.js","App.js","index.js"],"names":["Playlist","props","data","onSelect","Card","className","bg","text","border","onClick","Img","variant","src","snippet","thumbnails","medium","url","Footer","title","YouTube","handleSignIn","a","axios","get","tokenResponse","token","Promise","resolve","window","gapi","load","client","setToken","res","authUrl","location","href","handleAuth2Callback","searchQuery","query","substr","split","map","q","code","find","localStorage","setItem","JSON","stringify","signOut","removeItem","listChannel","youtube","channels","list","response","result","listPlaylists","channelId","playlists","listPlaylistItems","playlistId","maxResults","nextPageToken","playlistItems","listSubscriptions","subscriptions","listActivities","activities","search","Playlists","filter","toLowerCase","onSelectPlaylist","useState","items","setPlaylists","useEffect","then","catch","Row","md","playlist","item","indexOf","description","Col","id","PlaylistItem","selected","RESULTS_PER_REQUEST","Math","floor","PlaylistItems","onSelectPlaylistItem","onPlaylistItemsLoaded","gettingData","setGettingData","selectedRef","useRef","current","scrollIntoView","behavior","block","useLayoutEffect","updatePosition","scrollHeight","max","document","body","documentElement","offsetHeight","clientHeight","isAtBottom","pageYOffset","innerHeight","newPlaylistItems","addEventListener","removeEventListener","filterMatches","ref","SignIn","onSignedIn","Overlay","width","height","opacity","selWidth","selMove","selOpacity","top","children","hovered","setHovered","focussed","setFocussed","curWidth","curLeft","curOpacity","curTransition","curTransitionChildren","tabIndex","style","outline","zIndex","marginLeft","transition","onFocus","onBlur","onMouseEnter","onMouseLeave","display","padding","overflow","whiteSpace","textAlign","verticalAlign","TimeSelector","getCurrentTime","value","onTimeChanged","time","setTime","timeStr","min","sec","msec","length","format","Button","e","t","TimeProgressBar","curTime","maxTime","active","dragStart","setDragStart","paddingLeft","paddingRight","paddingTop","ProgressBar","now","onMouseDown","event","clientX","curX","target","clientWidth","console","log","onMouseMove","onMouseUp","YOUTUBE_PLAYER_WIDTH","Player","videoId","onVideoEnded","player","setPlayer","fromTime","setFromTime","toTime","setToTime","setCurTime","setMaxTime","savedTimeStr","getItem","savedTime","parse","f","cueVideoById","startSeconds","endSeconds","playVideo","setInterval","getDuration","clearInterval","containerClassName","opts","onReady","onEnd","position","newTime","done","seekTo","Navigation","activePage","setActivePage","setChannelId","setPlaylistId","playlistItem","setPlaylistItem","setPlaylistItems","playlistsFilter","setPlaylistsFilter","playlistItemsFilter","setPlaylistItemsFilter","suppressFocus","preventDefault","onFilterChanged","pathname","history","pushState","hash","Container","Navbar","collapseOnSelect","expand","sticky","Brand","Toggle","aria-controls","Collapse","Nav","Link","Form","inline","InputGroup","FormControl","type","placeholder","onChange","Append","contentDetails","idx","findIndex","i","App","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.cad729f2.chunk.js","sourcesContent":["import React from 'react';\r\nimport './App.css';\r\n\r\nimport Card from 'react-bootstrap/Card';\r\n\r\n\r\nfunction Playlist(props) {\r\n    const data = props.data;\r\n    const onSelect = props.onSelect;\r\n\r\n    return (\r\n        <Card className=\"mb-2 h-100\" bg=\"dark\" text=\"white\" border=\"dark\" onClick={() => onSelect()}>\r\n            <Card.Img variant=\"top\" src={data.snippet.thumbnails.medium.url} />\r\n            <Card.Footer>{data.snippet.title}</Card.Footer>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default Playlist;","import axios from 'axios';\r\n\r\nexport const YouTube = {\r\n    handleSignIn: async () => {\r\n        const tokenResponse = await axios.get('http://localhost:8080/auth/token/cached');\r\n//        const token = JSON.parse(window.localStorage.getItem('youtube_token'));\r\n        const token = tokenResponse.data.token;\r\n        if (token) {\r\n            await new Promise(resolve => window.gapi.load('client', resolve));\r\n            window.gapi.client.setToken(token);\r\n            return await window.gapi.client.load('https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest');\r\n        } else {\r\n            const res = await axios.get('http://localhost:8080/auth/authUrl');\r\n            const authUrl = res.data.authUrl;\r\n            window.location.href = authUrl;\r\n        }\r\n    },\r\n\r\n    handleAuth2Callback: async (searchQuery) => {\r\n        const query = searchQuery.substr(1).split('&').map(q => q.split('='));\r\n        const code = query.find(q => q[0] === 'code')[1];\r\n        await new Promise(resolve => window.gapi.load('client', resolve));\r\n        const res = await axios.get('http://localhost:8080/auth/token?code=' + code);\r\n        window.gapi.client.setToken(res.data.token);\r\n        window.localStorage.setItem('youtube_token', JSON.stringify(res.data.token));\r\n        return await window.gapi.client.load('https://www.googleapis.com/discovery/v1/apis/youtube/v3/rest');\r\n    },\r\n\r\n    signOut: () => {\r\n        window.localStorage.removeItem('youtube_token');\r\n    },\r\n\r\n    listChannel: async () => {\r\n        const response = await window.gapi.client.youtube.channels.list({\r\n            \"part\": [ \"snippet,contentDetails,statistics\" ],\r\n            \"mine\": true\r\n        });\r\n        return response.result;\r\n    },\r\n\r\n    listPlaylists: async (channelId) => {\r\n        const response = await window.gapi.client.youtube.playlists.list({\r\n            \"part\": [ \"snippet,contentDetails\" ],\r\n            \"maxResults\": 25,\r\n            \"channelId\": channelId\r\n        });\r\n        return response.result;\r\n    },\r\n\r\n    listPlaylistItems: async (playlistId, maxResults, nextPageToken) => {\r\n        const response = await window.gapi.client.youtube.playlistItems.list({\r\n            \"part\": [ \"snippet,contentDetails\" ],\r\n              \"maxResults\": maxResults,\r\n              \"playlistId\": playlistId,\r\n              \"pageToken\": nextPageToken\r\n        });\r\n        return response.result;\r\n    },\r\n\r\n    listSubscriptions: async () => {\r\n        const response = await window.gapi.client.youtube.subscriptions.list({\r\n            \"part\": [ \"snippet,contentDetails\" ],\r\n            \"maxResults\": 25,\r\n            \"mine\": true\r\n        });\r\n        return response.result;\r\n    },\r\n\r\n    listActivities: async () => {\r\n        const response = await window.gapi.client.youtube.activities.list({\r\n            \"part\": [ \"snippet,contentDetails\" ],\r\n            \"maxResults\": 25,\r\n            \"mine\": true\r\n        });\r\n        return response.result;\r\n    },\r\n\r\n    search: async (query) => {\r\n        const response = await window.gapi.client.youtube.search.list({\r\n            \"part\": [ \"snippet\" ],\r\n            \"maxResults\": 25,\r\n            \"type\": \"playlist\",\r\n            \"q\": query\r\n          });\r\n        return response.result;\r\n    }\r\n};","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport Playlist from './Playlist';\n\nimport { YouTube } from './YouTube';\n\nconst CARDS_PER_ROW = 3;\n\nfunction Playlists(props) {\n    const channelId = props.channelId;\n    const filter = props.filter.toLowerCase();\n    const onSelectPlaylist = props.onSelectPlaylist;\n    const [playlists, setPlaylists] = useState({ items: [] });\n\n    useEffect(() => {\n        YouTube.listPlaylists(channelId).then(setPlaylists)\n            .catch(() => setPlaylists({ items: [] }));\n    }, [ channelId ]);\n\n    function filterMatches(item) {\n        return item.snippet.title.toLowerCase().indexOf(filter) >= 0 || item.snippet.description.toLowerCase().indexOf(filter) >= 0;\n    }\n\n    return (\n        <Row md={CARDS_PER_ROW}>\n            {playlists.items.filter(playlist => filterMatches(playlist)).map(playlist => (\n                <Col key={playlist.id}>\n                    <Playlist data={playlist} onSelect={() => onSelectPlaylist(playlist.id)} />\n                </Col>\n            ))}\n        </Row>\n    );\n}\n\nexport default Playlists;\n","import React from 'react';\r\nimport './App.css';\r\n\r\nimport Card from 'react-bootstrap/Card';\r\n\r\n\r\nfunction PlaylistItem(props) {\r\n    const data = props.data;\r\n    const onSelect = props.onSelect;\r\n    const selected = props.selected;\r\n\r\n    return (\r\n        <Card className=\"mb-2 h-100\" bg=\"dark\" text=\"white\" border={selected ? \"light\" : \"dark\"} onClick={() => onSelect()}>\r\n            <Card.Img variant=\"top\" src={data.snippet.thumbnails.medium.url} />\r\n            <Card.Footer>{data.snippet.title}</Card.Footer>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default PlaylistItem;","import React, { useState, useEffect, useLayoutEffect, useRef } from 'react';\nimport './App.css';\n\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\nimport PlaylistItem from './PlaylistItem';\n\nimport { YouTube } from './YouTube';\n\n\nconst CARDS_PER_ROW = 3;\nconst RESULTS_PER_REQUEST = Math.floor(50 / CARDS_PER_ROW) * CARDS_PER_ROW;\n\nfunction PlaylistItems(props) {\n    const onSelectPlaylistItem = props.onSelectPlaylistItem;\n    const playlistId = props.playlistId;\n    const playlistItems = props.playlistItems;\n    const onPlaylistItemsLoaded = props.onPlaylistItemsLoaded;\n    const selected = props.selected;\n    const filter = props.filter.toLowerCase();\n\n    const [gettingData, setGettingData] = useState(false);\n\n    const selectedRef = useRef();\n\n    useEffect(() => {\n        setGettingData(true);\n        YouTube.listPlaylistItems(playlistId, RESULTS_PER_REQUEST)\n            .then(items => onPlaylistItemsLoaded(items))\n            .catch(() => {})\n            .then(() => setGettingData(false));\n    }, [ playlistId ]);\n\n    useEffect(() => {\n        if (selectedRef.current) {\n            selectedRef.current.scrollIntoView({ behavior: 'smooth', block: 'nearest' });\n        }\n    }, [ selected ]);\n\n    useLayoutEffect(() => {\n        function updatePosition() {\n            const scrollHeight = Math.max(\n                document.body.scrollHeight, document.documentElement.scrollHeight,\n                document.body.offsetHeight, document.documentElement.offsetHeight,\n                document.body.clientHeight, document.documentElement.clientHeight);    \n            const isAtBottom = window.pageYOffset > scrollHeight - window.innerHeight - 100;\n\n            if (!gettingData && playlistItems.nextPageToken && isAtBottom) {\n                setGettingData(true);\n                YouTube.listPlaylistItems(playlistId, RESULTS_PER_REQUEST, playlistItems.nextPageToken)\n                    .then(newPlaylistItems => onPlaylistItemsLoaded({ ...newPlaylistItems, items: [...playlistItems.items, ...newPlaylistItems.items ]}))\n                    .catch(() => {})\n                    .then(() => setGettingData(false));\n            }\n        }\n        window.addEventListener('scroll', updatePosition);\n        updatePosition();\n        return () => window.removeEventListener('scroll', updatePosition);\n    }, [ playlistId, playlistItems, gettingData, filter ]);\n\n    function filterMatches(item) {\n        return item.snippet.title.toLowerCase().indexOf(filter) >= 0 || item.snippet.description.toLowerCase().indexOf(filter) >= 0;\n    }\n\n    return (\n        <div>\n            <Row md={CARDS_PER_ROW}>\n                {playlistItems.items.filter(item => filterMatches(item)).map(item => (\n                    <Col key={item.id}>\n                        {selected && selected.id === item.id ? (\n                            <div ref={selectedRef}>\n                                <PlaylistItem  selected={true} data={item} onSelect={() => onSelectPlaylistItem(item)}/>\n                            </div>\n                        ) : (\n                            <PlaylistItem selected={false} data={item} onSelect={() => onSelectPlaylistItem(item)}/>\n                        )}\n                    </Col>\n                ))}\n            </Row>\n        </div>\n    );\n}\n\nexport default PlaylistItems;","import React, { useEffect } from 'react';\nimport './App.css';\n\nimport { YouTube } from './YouTube';\n\nfunction SignIn(props) {\n    const onSignedIn = props.onSignedIn;\n\n    useEffect(() => {\n        YouTube.handleSignIn().then(onSignedIn);\n    }, []);\n\n    return (\n        <div></div>\n    );\n}\n\nexport default SignIn;","import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nfunction Overlay(props) {\r\n    const width = props.width;\r\n    const height = props.height;\r\n    const opacity = props.opacity;\r\n    const selWidth = props.selWidth;\r\n    const selMove = props.selMove;\r\n    const selOpacity = props.selOpacity;\r\n    const top = props.top;\r\n    const children = props.children;\r\n    \r\n    const [hovered, setHovered] = useState(false);\r\n    const [focussed, setFocussed] = useState(false);\r\n\r\n    const selected = hovered || focussed;\r\n    const curWidth = selected ? selWidth : width;\r\n    const curLeft = selected ? selMove + 15 : 0;\r\n    const curOpacity = selected ? selOpacity : opacity;\r\n    const curTransition = selected ? \"opacity 0.5s, width 0.25s, margin-left 0.25s\" : \"opacity 0.5s linear 0.25s, width 0.25s linear 0.25s, margin-left 0.25s linear 0.25s\"\r\n    const curTransitionChildren = selected ? \"opacity 0.25s linear 0.25s, width 0.25s\" : \"opacity 0.25s, width 0.25s linear 0.25s\";\r\n\r\n    return (\r\n        <div tabIndex=\"0\" className=\"position-absolute bg-secondary rounded-pill\" style={{ outline: 0, zIndex: 10, width: curWidth, height: height, marginLeft: curLeft, opacity: curOpacity, top: top, transition: curTransition }} \r\n             variant=\"secondary\" \r\n             onFocus={() => setFocussed(true)}\r\n             onBlur={() => setFocussed(false)}\r\n             onMouseEnter={() => setHovered(true)} \r\n             onMouseLeave={() => setHovered(false)}>\r\n            <div style={{ display: \"table-cell\", padding: \"0 20px 0 20px\", opacity: selected ? 1 : 0, overflow: \"hidden\", width: curWidth, height: height, whiteSpace: \"nowrap\", textAlign: \"center\", verticalAlign: \"middle\", transition: curTransitionChildren }}>\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Overlay;","import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nfunction format(time) {\r\n    const min = Math.floor(time / 60);\r\n    const sec = '0' + Math.floor(time % 60);\r\n    const msec = Math.floor((time % 1) * 10);\r\n    return min + ':' + sec.substr(sec.length - 2) + '.' + msec;  \r\n}\r\n\r\nfunction TimeSelector(props) {\r\n    const getCurrentTime = props.getCurrentTime;\r\n    const value = props.value;\r\n    const onTimeChanged = props.onTimeChanged;\r\n\r\n    const [ time, setTime ] = useState(value);\r\n\r\n    const timeStr = time !== '' ? format(time) : time;\r\n\r\n    function setTimeToCurrentPlayerTime(e) {\r\n        setTimeTo(getCurrentTime());\r\n    }\r\n\r\n    function setTimeTo(t) {\r\n        setTime(t);\r\n        onTimeChanged(t);\r\n    }\r\n\r\n    return (\r\n        <Button variant=\"light\" onClick={setTimeToCurrentPlayerTime}>{timeStr}</Button>\r\n    );\r\n}\r\n\r\nexport default TimeSelector;","import React, { useState } from 'react';\r\nimport './App.css';\r\n\r\nimport ProgressBar from 'react-bootstrap/ProgressBar';\r\n\r\n\r\nfunction TimeProgressBar(props) {\r\n    const curTime = props.curTime;\r\n    const maxTime = props.maxTime;\r\n    const active = props.active;\r\n    const onTimeChanged = props.onTimeChanged;\r\n    const [dragStart, setDragStart] = useState(null);\r\n\r\n    function onMouseDown(event) {\r\n        setDragStart(event.clientX);\r\n        const curX = event.clientX;\r\n        const width = event.target.clientWidth;\r\n        const time = Math.max(0, Math.min(maxTime, curX / width * maxTime));\r\n        console.log(curX);\r\n        onTimeChanged(time, false);\r\n    }\r\n\r\n    function onMouseMove(event) {\r\n        if (dragStart) {\r\n            const curX = event.clientX;\r\n            const width = event.target.clientWidth;\r\n            const time = Math.max(0, Math.min(maxTime, curX / width * maxTime));\r\n            onTimeChanged(time, false);\r\n        }\r\n    }\r\n\r\n    function onMouseUp(event) {\r\n        if (dragStart) {\r\n            const curX = event.clientX;\r\n            const width = event.target.clientWidth;\r\n            const time = Math.max(0, Math.min(maxTime, curX / width * maxTime));\r\n            onTimeChanged(time, true);\r\n            setDragStart(null);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div style={{ paddingLeft: 15, paddingRight: 15, paddingTop: active ? 0 : 2, transition: \"padding-top 0.5s\" }}>\r\n            <ProgressBar variant=\"light\" \r\n                         className=\"bg-secondary\" \r\n                         now={curTime} \r\n                         max={maxTime} \r\n                         onMouseDown={onMouseDown}\r\n                         onMouseMove={onMouseMove}\r\n                         onMouseUp={onMouseUp}\r\n                         style={{ height: active ? 6 : 3, opacity: active ? 0.5 : 0, transition: \"opacity 0.5s, height 0.5s\" }} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TimeProgressBar;","import React, { useState, useEffect } from 'react';\r\nimport './App.css';\r\n\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Button from 'react-bootstrap/Button';\r\n\r\nimport Overlay from './Overlay';\r\nimport TimeSelector from './TimeSelector';\r\nimport TimeProgressBar from './TimeProgressBar';\r\n\r\nimport YouTube from 'react-youtube';\r\n\r\n\r\nconst YOUTUBE_PLAYER_WIDTH = 1110 - 2 * 20;\r\n\r\nfunction format(time) {\r\n    const min = Math.floor(time / 60);\r\n    const sec = '0' + Math.floor(time % 60);\r\n    const msec = Math.floor((time % 1) * 10);\r\n    return min + ':' + sec.substr(sec.length - 2) + '.' + msec;  \r\n}\r\n\r\n\r\nfunction Player(props) {\r\n    const videoId = props.videoId;\r\n    const onVideoEnded = props.onVideoEnded;\r\n\r\n    const [player, setPlayer] = useState(null);\r\n    const [fromTime, setFromTime] = useState('from');\r\n    const [toTime, setToTime] = useState('to');\r\n    const [curTime, setCurTime] = useState(0);\r\n    const [maxTime, setMaxTime] = useState(0);\r\n    const [hovered, setHovered] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (player) {\r\n            const savedTimeStr = window.localStorage.getItem('timerange_' + videoId);\r\n            if (savedTimeStr) {\r\n                const savedTime = JSON.parse(savedTimeStr);\r\n                setFromTime(savedTime.f);\r\n                setToTime(savedTime.t);\r\n                player.cueVideoById({ videoId: videoId, startSeconds: savedTime.f, endSeconds: savedTime.t });\r\n                player.playVideo();\r\n            } else {\r\n                setFromTime('from');\r\n                setToTime('to');\r\n                player.playVideo();\r\n            }\r\n        }\r\n    }, [player, videoId]);\r\n\r\n    useEffect(() => {\r\n            const id = setInterval(() => {\r\n                if (player) {\r\n                    setCurTime(player.getCurrentTime());\r\n                    setMaxTime(player.getDuration());\r\n                }\r\n            }, 100);\r\n            return () => clearInterval(id);\r\n        }, [player]\r\n    );\r\n\r\n    function onReady(event) {\r\n        event.target.playVideo();\r\n        setPlayer(event.target);\r\n    }\r\n\r\n    function playTimeRange() {\r\n        player.cueVideoById({ videoId: videoId, startSeconds: fromTime, endSeconds: toTime });\r\n        player.playVideo();\r\n    }\r\n\r\n    function keepTimeRangeForPlayback() {\r\n        window.localStorage.setItem('timerange_' + videoId, JSON.stringify({f: fromTime, t: toTime}));\r\n    }\r\n\r\n    function getCurrentTime() {\r\n        return player.getCurrentTime()\r\n    }\r\n\r\n    function onTimeChanged(newTime, done) {\r\n        player.seekTo(newTime, done);\r\n    }\r\n\r\n    return (\r\n        <Row className=\"no-gutters\">\r\n            <Col>\r\n                <div style={{ width: 20 }} />\r\n                <Overlay top={20} width={20} height={50} opacity={0.2} selWidth={200} selMove={-100} selOpacity={0.9}>\r\n                    <TimeSelector value={fromTime} onTimeChanged={setFromTime} getCurrentTime={getCurrentTime} /> - <TimeSelector value={toTime} onTimeChanged={setToTime} getCurrentTime={getCurrentTime} />\r\n                </Overlay>\r\n                <Overlay top={90} width={20} height={50} opacity={0.2} selWidth={200} selMove={-100} selOpacity={0.9} />\r\n            </Col>\r\n            <Col style={{ padding: '0 0 0 0' }}>\r\n                <YouTube containerClassName=\"position-absolute\" videoId={videoId} \r\n                        opts={{ width: YOUTUBE_PLAYER_WIDTH, height: YOUTUBE_PLAYER_WIDTH * 9 / 16 }} // controls: 0, modestbranding: 1, autoplay: true, enablejsapi: 1, playsinline: 0, origin: 'http://localhost:3000'\r\n                        onReady={e => onReady(e)}\r\n                        onEnd={e => onVideoEnded(e)} />\r\n                <div style={{ position: \"absolute\", zIndex: 10, width: YOUTUBE_PLAYER_WIDTH, height: YOUTUBE_PLAYER_WIDTH * 9 / 16 }} onMouseEnter={() => setHovered(true)} onMouseLeave={() => setHovered(false)}>\r\n                    <br/>\r\n                    <TimeProgressBar curTime={curTime} maxTime={maxTime} active={hovered} onTimeChanged={onTimeChanged} />\r\n                </div>\r\n                <div style={{ width: YOUTUBE_PLAYER_WIDTH, height: YOUTUBE_PLAYER_WIDTH * 9 / 16 }} />\r\n                <br />\r\n                <Button onClick={() => playTimeRange()}>Play Timerange</Button>\r\n                <Button onClick={() => keepTimeRangeForPlayback()}>Record Timerange</Button>\r\n            </Col>\r\n            <Col>\r\n                <div style={{ width: 20 }} />\r\n                <Overlay top={20} width={20} height={50} opacity={0.2} selWidth={200} selMove={-100} selOpacity={0.9} />\r\n            </Col>\r\n        </Row>\r\n    );\r\n}\r\n\r\nexport default Player;","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport Container from 'react-bootstrap/Container';\nimport Navbar from 'react-bootstrap/Navbar';\nimport Nav from 'react-bootstrap/Nav';\nimport Form from 'react-bootstrap/Form';\nimport FormControl from 'react-bootstrap/FormControl';\nimport InputGroup from 'react-bootstrap/InputGroup';\nimport Button from 'react-bootstrap/Button';\n\nimport Playlists from './Playlists';\nimport PlaylistItems from './PlaylistItems';\nimport SignIn from './SignIn';\nimport Player from './Player';\n\nimport { YouTube } from './YouTube';\n\n\nfunction Navigation() {\n    const [activePage, setActivePage] = useState('instances');\n    const [channelId, setChannelId] = useState('');\n    const [playlistId, setPlaylistId] = useState('');\n    const [playlistItem, setPlaylistItem] = useState(null);\n    const [playlistItems, setPlaylistItems] = useState({ items: [] });\n    const [playlistsFilter, setPlaylistsFilter] = useState('');\n    const [playlistItemsFilter, setPlaylistItemsFilter] = useState('');\n\n    useEffect(() => {\n        if (window.location.pathname === '/oauth2callback') {\n            YouTube.handleAuth2Callback(window.location.search)\n                .then(() => YouTube.listChannel())\n                .then(result => {\n                    setChannelId(result.items[0].id);\n                    window.history.pushState({}, '', '/#playlists');\n                    setActivePage('playlists');\n                });\n        } else {\n            setActivePage(window.location.hash.substr(1));\n        }\n    }, []);\n\n    function suppressFocus(e) {\n        e.preventDefault();\n    }\n\n    function onSelectPlaylist(playlistId) {\n        setActivePage('videos');\n        setPlaylistId(playlistId);\n    }\n\n    function onSelectPlaylistItem(item) {\n        setPlaylistItem(item);\n    }\n\n    function onVideoEnded() {\n        const idx = playlistItems.items.findIndex(i => i.id === playlistItem.id);\n        if (idx && idx < playlistItems.items.length - 1) {\n            setPlaylistItem(playlistItems.items[idx + 1]);\n        }\n    }\n\n    function onSignedIn() {\n        YouTube.listChannel()\n            .then(result => {\n                setChannelId(result.items[0].id);\n                window.history.pushState({}, '', '/#playlists');\n                setActivePage('playlists');\n            })\n            .catch(() => signOut());\n    }\n\n    function signOut() {\n        setChannelId(null);\n        setPlaylistItem(null);\n        YouTube.signOut();\n        setActivePage('playlists');\n    }\n\n    function onFilterChanged(value) {\n        if (activePage === 'videos') {\n            setPlaylistItemsFilter(value);\n        } else {\n            setPlaylistsFilter(value);\n        }\n    }\n\n    return (\n        <Container>\n            <div>\n                <div className=\"bg-light page-background\" />\n                <div className=\"page-content\">\n                    <Navbar bg=\"secondary\" collapseOnSelect expand=\"lg\" variant=\"dark\" sticky=\"top\">\n                        <Navbar.Brand>CritRolePlayer</Navbar.Brand>\n                        <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n                        <Navbar.Collapse id=\"responsive-navbar-nav\">\n                            <Nav className=\"mr-auto\" />\n                            <Nav>\n                                <Nav.Link active={activePage === 'playlists'} href=\"#playlists\" onMouseDown={suppressFocus} onClick={() => setActivePage('playlists')}>Playlists</Nav.Link>\n                                <Nav.Link active={activePage === 'videos'} href=\"#videos\" onMouseDown={suppressFocus} onClick={() => setActivePage('videos')}>Videos</Nav.Link>\n                                {channelId ? (\n                                    <Nav.Link active={activePage === 'signout'} href=\"#signout\" onMouseDown={suppressFocus} onClick={() => signOut()}>Sign Out</Nav.Link>\n                                ) : (\n                                    <Nav.Link active={activePage === 'signin'} href=\"#signin\" onMouseDown={suppressFocus} onClick={() => setActivePage('signin')}>Sign In</Nav.Link>\n                                )}\n                            </Nav>\n                            <Nav className=\"mr-auto\" />\n                            <Form inline>\n                                <InputGroup>\n                                    <FormControl value={activePage === 'videos' ? playlistItemsFilter : playlistsFilter} type=\"text\" placeholder=\"Filter\" onChange={e => onFilterChanged(e.target.value)} />\n                                    <InputGroup.Append>\n                                        <Button variant=\"outline-light\" onMouseDown={suppressFocus} onClick={() => onFilterChanged('')}>X</Button>\n                                    </InputGroup.Append>\n                                </InputGroup>\n                            </Form>\n                        </Navbar.Collapse>\n                    </Navbar>\n\n                    <Navbar bg=\"dark\" expand=\"lg\" variant=\"dark\" sticky=\"top\" style={{ padding: \"0 0 0 0\"}}>\n                        {playlistItem ? <Player videoId={playlistItem.contentDetails.videoId} onVideoEnded={() => onVideoEnded()} /> : ''}\n                    </Navbar>\n\n                    <div>\n                        {activePage === 'playlists' ? <Playlists filter={playlistsFilter} channelId={channelId} onSelectPlaylist={playlistId => onSelectPlaylist(playlistId)} /> : ''}\n                        {activePage === 'videos' ? <PlaylistItems filter={playlistItemsFilter} selected={playlistItem} playlistItems={playlistItems} playlistId={playlistId} onSelectPlaylistItem={item => onSelectPlaylistItem(item)} onPlaylistItemsLoaded={items => setPlaylistItems(items)} /> : ''}\n                        {activePage === 'signin' ? <SignIn onSignedIn={() => onSignedIn()}/> : ''}\n                    </div>\n                </div>\n            </div>            \n        </Container>\n    );\n}\n\nexport default Navigation;","import React, { useState, useEffect } from 'react';\nimport './App.css';\n\nimport Navigation from './Navigation';\n\nfunction App() {\n\n  return (\n    <div>\n      <Navigation />\n    </div>\n  );\n}\n\nexport default App;\n","import 'react-app-polyfill/ie9';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport 'bootstrap/dist/css/bootstrap.min.css';\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}